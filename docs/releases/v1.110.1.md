# Infrastructure Updates and AI Model Upgrade - v1.110.1

## New Features and Changes

### ü§ñ AI Model Upgrade

- **Claude Sonnet 4**: Upgraded from Claude 3.5 Sonnet to Claude Sonnet 4 for improved AI capabilities
- **Enhanced Chat**: General chat now powered by the latest Claude Sonnet 4 model
- **Better Note Rewriting**: Project notes pseudonymization uses the upgraded AI model for more accurate results

### üöÄ Lambda Runtime Modernization

- **Node.js 22**: Updated Lambda functions to use Node.js 22 runtime for better performance and security
- **Functions Updated**:
  - Post-confirmation authentication handler
  - Data schema migrations processor

### üõ°Ô∏è Enhanced Data Protection

- **Weekly Review Protection**: Added `WeeklyReview` and `WeeklyReviewEntry` tables to deletion protection
- **Data Integrity**: Ensures weekly review data cannot be accidentally deleted in production

### üìÅ Documentation Organization

- **Release Archives**: Moved historical release notes (v1.100.0 - v1.109.0) to organized subfolders
- **Cleaner Structure**: Better organization of documentation for easier navigation

## Detailed Changes

### Backend Updates

- `amplify/auth/post-confirmation/resource.ts`: Set runtime to Node.js 22
- `amplify/functions/data-schema-migrations/resource.ts`: Set runtime to Node.js 22
- `amplify/data/ai-schema.ts`: Updated both AI models to Claude Sonnet 4
- `amplify/data/weekly-review-schema.ts`: Added deletion protection for weekly review tables

### Dependencies

- Updated dependencies

### Documentation

- Reorganized release notes into version range folders
- Removed obsolete `next.md` planning document

## Testing Completed

- ‚úÖ Lambda functions tested with Node.js 22 runtime
- ‚úÖ AI chat functionality verified with Claude Sonnet 4
- ‚úÖ Weekly review deletion protection confirmed
- ‚úÖ Build and deployment successful

## Security Enhancements

- Node.js 22 includes the latest security patches and improvements
- Updated runtime reduces potential vulnerability surface
- Deletion protection prevents accidental data loss
